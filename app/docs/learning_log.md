# 🚀 학습 기록 및 트러블슈팅 로그 (Learning Log)

이 파일은 프로젝트 개발 과정에서 겪은 시행착오, 에러 해결 과정, 그리고 새롭게 배운 개념들을 기록하는 공간입니다.

---

## 📅 2026-02-20: 모델 초기 설정 및 DB 연결

### 1. ⚠️ [Error] 모델 임포트 시 서버 실행 실패
- **에러 메시지**: `ImportError` 또는 `NameError: name 'Base' is not defined`
- **상황**: `app/models/__init__.py`에서 모든 모델을 한꺼번에 임포트하려 했으나 서버가 켜지지 않음.
- **원인 분석**:
    - 모든 SQLAlchemy 모델은 `Base`를 상속받아야 함.
    - 하지만 모델 파일에서 `Base`를 불러오지 않았거나, `__init__.py`에서 모델을 모으는 과정에서 의존성 주입이 누락됨.
- **해결 방법**: 
    1. `app/database.py`에 정의된 `Base`를 각 모델 파일 상단에서 정확히 임포트함.
    2. `app/models/__init__.py`에서 각 모델을 다시 호출하여 `main.py`가 모든 테이블 구조를 한 번에 인식하도록 수정.
- **성장 포인트**: 
    - `__init__.py`의 역할(패키지화)과 모델 간의 의존성 연결 구조를 확실히 이해함.
    - 에러가 났을 때 가장 아랫줄의 메시지부터 읽는 '사고 훈련'을 시작함.

### 2. ⚠️ [Error] datetime 타입 인식 불가로 인한 서버 실행 실패
- **에러 메시지**: `MappedAnnotationError: ... is not a Python type, it's the object <module 'datetime' ...>`
- **상황**: `created_at` 등 날짜 관련 필드를 모델에 추가한 후 서버를 실행했으나, SQLAlchemy가 타입을 인식하지 못함.
- **원인 분석**:
    - `Mapped[...]` 안에는 데이터를 담는 그릇의 종류(클래스/타입)를 적어야 함.
    - 하지만 `import datetime`만 작성할 경우, `datetime`은 클래스가 아닌 **모듈(파일 묶음)** 전체를 가리키게 됨.
    - SQLAlchemy는 "데이터 타입이 들어올 자리에 왜 폴더(모듈)를 통째로 넣었니?"라며 에러를 발생시킨 것임.
- **해결 방법**:
    1. 각 모델 파일 상단의 임포트 문을 `import datetime`에서 `from datetime import datetime`으로 수정함.
    2. 이를 통해 모듈 내부의 'datetime 클래스'를 직접 참조하게 하여 SQLAlchemy가 정확한 데이터 타입을 인지하도록 교정함.
- **성장 포인트**:
    - 파이썬에서 **모듈(Module)**과 **클래스(Class)**의 계층적 차이를 명확히 구분하는 법을 익힘.
    - 라이브러리 에러 발생 시, 단순히 코드를 고치는 게 아니라 "이 도구가 왜 이 데이터를 거부하는가"라는 관점에서 명칭과 타입을 대조하는 습관을 기름.
